---
import type { Language } from '../../i18n/translations';
import { getLangFromUrl, translations } from '../../i18n/translations';

interface Props {
  lang?: Language;
}

const { lang: propLang } = Astro.props;
const lang = propLang || getLangFromUrl(Astro.url);
const t = translations[lang];
---

<section class="py-16 md:py-24 bg-gradient-to-br from-primary-50 to-accent-50 dark:from-dark-900 dark:to-dark-800">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-2xl mx-auto">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          {lang === 'cs' ? 'Rychlá poptávka' : 'Quick Request'}
        </h1>
        <p class="text-lg text-gray-600 dark:text-gray-300">
          {lang === 'cs' 
            ? 'Vyplňte základní údaje a my se vám ozveme do 24 hodin.'
            : 'Fill in the basic details and we will get back to you within 24 hours.'}
        </p>
      </div>

      <!-- Form -->
      <form 
        class="bg-white dark:bg-dark-800 rounded-2xl shadow-xl p-8"
        action="https://formspree.io/f/xpwzgvry"
        method="POST"
      >
        <div class="space-y-6">
          <!-- Project Type -->
          <div>
            <label for="project-type" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
              {lang === 'cs' ? 'Typ projektu *' : 'Project Type *'}
            </label>
            <select
              id="project-type"
              name="project-type"
              required
              class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
            >
              <option value="">{lang === 'cs' ? 'Vyberte typ projektu' : 'Select project type'}</option>
              <option value="seo">{lang === 'cs' ? 'SEO optimalizace' : 'SEO Optimization'}</option>
              <option value="ppc">{lang === 'cs' ? 'PPC kampaně (Google, Sklik)' : 'PPC Campaigns (Google, Sklik)'}</option>
              <option value="web">{lang === 'cs' ? 'Webové stránky' : 'Website'}</option>
              <option value="content">{lang === 'cs' ? 'Content marketing' : 'Content Marketing'}</option>
              <option value="full">{lang === 'cs' ? 'Kompletní marketing' : 'Full Marketing'}</option>
            </select>
          </div>

          <!-- Budget -->
          <div>
            <label for="budget" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
              {lang === 'cs' ? 'Rozpočet *' : 'Budget *'}
            </label>
            <select
              id="budget"
              name="budget"
              required
              class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
            >
              <option value="">{lang === 'cs' ? 'Vyberte rozpočet' : 'Select budget'}</option>
              <option value="do-10k">{lang === 'cs' ? 'Do 10 000 Kč' : 'Up to 10,000 CZK'}</option>
              <option value="10-25k">{lang === 'cs' ? '10 000 - 25 000 Kč' : '10,000 - 25,000 CZK'}</option>
              <option value="25-50k">{lang === 'cs' ? '25 000 - 50 000 Kč' : '25,000 - 50,000 CZK'}</option>
              <option value="50-100k">{lang === 'cs' ? '50 000 - 100 000 Kč' : '50,000 - 100,000 CZK'}</option>
              <option value="100k+">{lang === 'cs' ? 'Nad 100 000 Kč' : 'Over 100,000 CZK'}</option>
            </select>
          </div>

          <!-- Timeline -->
          <div>
            <label for="timeline" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
              {lang === 'cs' ? 'Časový rámec' : 'Timeline'}
            </label>
            <select
              id="timeline"
              name="timeline"
              class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
            >
              <option value="">{lang === 'cs' ? 'Vyberte termín' : 'Select timeline'}</option>
              <option value="asap">{lang === 'cs' ? 'Co nejdříve' : 'As soon as possible'}</option>
              <option value="1-3months">{lang === 'cs' ? '1-3 měsíce' : '1-3 months'}</option>
              <option value="3-6months">{lang === 'cs' ? '3-6 měsíců' : '3-6 months'}</option>
              <option value="flexible">{lang === 'cs' ? 'Flexibilní' : 'Flexible'}</option>
            </select>
          </div>

          <!-- Company Size -->
          <div>
            <label for="company-size" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
              {lang === 'cs' ? 'Velikost firmy' : 'Company Size'}
            </label>
            <select
              id="company-size"
              name="company-size"
              class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
            >
              <option value="">{lang === 'cs' ? 'Vyberte velikost' : 'Select size'}</option>
              <option value="startup">{lang === 'cs' ? 'Startup (1-10 zaměstnanců)' : 'Startup (1-10 employees)'}</option>
              <option value="smb">{lang === 'cs' ? 'Malá firma (11-50)' : 'Small business (11-50)'}</option>
              <option value="mid">{lang === 'cs' ? 'Střední firma (51-200)' : 'Medium business (51-200)'}</option>
              <option value="enterprise">{lang === 'cs' ? 'Velká firma (200+)' : 'Enterprise (200+)'}</option>
            </select>
          </div>

          <!-- Contact Info -->
          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                {lang === 'cs' ? 'Jméno *' : 'Name *'}
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                placeholder={lang === 'cs' ? 'Vaše jméno' : 'Your name'}
              />
            </div>
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                {lang === 'cs' ? 'Email *' : 'Email *'}
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                placeholder="email@company.cz"
              />
            </div>
          </div>

          <!-- Company -->
          <div>
            <label for="company" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
              {lang === 'cs' ? 'Název firmy' : 'Company Name'}
            </label>
            <input
              type="text"
              id="company"
              name="company"
              class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
              placeholder={lang === 'cs' ? 'Název vaší firmy' : 'Your company name'}
            />
          </div>

          <!-- Message -->
          <div>
            <label for="message" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
              {lang === 'cs' ? 'Zpráva (nepovinné)' : 'Message (optional)'}
            </label>
            <textarea
              id="message"
              name="message"
              rows="3"
              class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-dark-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
              placeholder={lang === 'cs' ? 'Popište váš projekt...' : 'Describe your project...'}
            ></textarea>
          </div>

          <!-- GDPR -->
          <div class="flex items-start gap-3">
            <input
              type="checkbox"
              id="gdpr"
              name="gdpr"
              required
              class="mt-1 w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"
            />
            <label for="gdpr" class="text-sm text-gray-600 dark:text-gray-400">
              {lang === 'cs' 
                ? 'Souhlasím se zpracováním osobních údajů dle GDPR. Odesláním formuláře souhlasíte s našimi zásadami ochrany osobních údajů.'
                : 'I agree to the processing of personal data according to GDPR. By submitting the form you agree to our privacy policy.'}
            </label>
          </div>

          <!-- Submit -->
          <button
            type="submit"
            class="w-full py-4 px-6 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors"
          >
            {lang === 'cs' ? 'Odeslat poptávku' : 'Send Request'}
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
